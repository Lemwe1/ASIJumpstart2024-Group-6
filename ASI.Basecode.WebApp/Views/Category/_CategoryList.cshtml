@model IEnumerable<ASI.Basecode.WebApp.Models.CategoryViewModel>

@section Styles {
    <link href="~/css/Category.css" rel="stylesheet" />
}

<!-- Container with padding -->
<div class=" container mx-auto p-6 my-16 mb-2">

    <h2 class="text-2xl font-semibold mt-1 mb-6 dark:text-white">@ViewData["Title"]</h2>

    <!-- Add Category Button -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-8">
        <div id="newCategoryCard" class="category-card p-6 rounded-lg flex flex-col items-center justify-center cursor-pointer relative border-4 border-dashed border-gray-400 dark:border-gray-600" onclick="openCreateModal()">
            <i class="fas fa-plus text-6xl text-gray-400 dark:text-gray-600 mb-2"></i>
            <span class="text-gray-500 dark:text-gray-300">Add a Category</span>
        </div>
    </div>

    <!-- Income Categories -->
    @if (Model.Any(c => c.Type == "Income"))
    {
        
        <h3 class="text-xl font-semibold mb-8 dark:text-gray-300">Income</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-8">
            @foreach (var item in Model.Where(c => c.Type == "Income"))
            {
                <div class="category-card border-2 border-gray-900 dark:border-gray-600 p-6 rounded-lg shadow-lg text-white relative flex flex-col items-center justify-center" style="background-color:@item.Color;">
                    <!-- Icon -->
                    <p class="text-6xl mb-4">@item.Icon</p>
                    <!-- Category Name -->
                    <h3 class="text-xl font-bold text-center">@item.Name</h3>
                    <!-- Edit Icon -->
                    <a href="javascript:void(0);" onclick="openEditModal('@item.CategoryId')" class="absolute top-2 right-2 flex items-center justify-center w-8 h-8 bg-gray-50 hover:no-underline hover:text-white hover:bg-gray-700 rounded-full text-gray-800 shadow-md">
                        <i class="fas fa-pen"></i>
                    </a>
                </div>
            }
        </div>
    }

    <!-- Expense Categories -->
    @if (Model.Any(c => c.Type == "Expense"))
    {
        <h3 class="text-xl font-semibold mb-8 dark:text-gray-300">Expense</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
            @foreach (var item in Model.Where(c => c.Type == "Expense"))
            {
                <div class="category-card border-2 border-gray-900 dark:border-gray-600 p-6 rounded-lg shadow-lg text-white relative flex flex-col items-center justify-center" style="background-color:@item.Color;">
                    <!-- Icon -->
                    <p class=" text-6xl mb-4">@item.Icon</p>
                    <!-- Category Name -->
                    <h3 class="text-xl font-bold text-center">@item.Name</h3>
                    <!-- Edit Icon -->
                    <a href="javascript:void(0);" onclick="openEditModal('@item.CategoryId')" class="absolute top-2 right-2 flex items-center justify-center w-8 h-8 bg-gray-50 hover:no-underline hover:text-white hover:bg-gray-700 rounded-full text-gray-800 shadow-md">
                        <i class="fas fa-pen"></i>
                    </a>

                </div>
            }
        </div>
    }

</div>
