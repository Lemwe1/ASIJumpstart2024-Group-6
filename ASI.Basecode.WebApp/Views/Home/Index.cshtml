@{
    Layout = "_Layout";
    ViewData["Title"] = "Home Page";
}
@section styles {
    <link rel="stylesheet" href="~/css/home.css" />
}

<!-- Sidebar and Content -->
<div class="flex min-h-screen mt-5 w-full">
    <!-- Main Content Area -->
    <div class="flex-1 pt-4 pl-4 bg-gray-100 container dark:bg-gray-800 text-gray-900 max-w-screen-xl ml-4">

        <div class="flex gap-6">
            <div class="ml-2 w-90">
                <!-- Dashboard Header -->
                <div class="my-4">
                    <h2 class="text-2xl font-semibold dark:text-white">Dashboard</h2>
                </div>

                <!-- Dashboard Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <!-- Current Balance -->
                    <div class="bg-green-500 border-2 border-gray-900 dark:border-gray-600 shadow-md text-white p-4 rounded-lg flex flex-col justify-between h-full">
                        <h3 class="text-sm">Net Balance</h3>
                        <p class="mt-10 text-2xl font-bold">‚Ç± @String.Format("{0:#,0.00}", ViewBag.NetBalance)</p>
                    </div>
                    <!-- Total Expenses -->
                    <div class="bg-red-500 border-2 border-gray-900 dark:border-gray-600 shadow-md text-white p-4 rounded-lg flex flex-col justify-between h-full">
                        <h3 class="text-sm">Total Expenses</h3>
                        <p class="mt-10 text-2xl font-bold">
                            <i class="fas fa-angles-up text-2xl font-bold mr-2"></i>‚Ç± @String.Format("{0:#,0.00}", ViewBag.TotalExpense)
                        </p>
                    </div>
                    <!-- Total Income -->
                    <div class="bg-blue-500 border-2 border-gray-900 dark:border-gray-600 text-white p-4 rounded-lg flex flex-col justify-between h-full">
                        <h3 class="text-sm">Total Income</h3>
                        <p class="mt-10 text-2xl font-bold">
                            <i class="fas fa-angles-down text-2xl font-bold mr-2"></i>‚Ç± @String.Format("{0:#,0.00}", ViewBag.TotalIncome)
                        </p>
                    </div>
                </div>


                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-medium text-gray-600 text-lg dark:text-gray-300">Expense Trends</h4>
                    <!-- Dropdown Menu -->
                    <div class="text-right">
                        <select id="trendFilter" name="trendFilter" class="border border-gray-300 dark:border-gray-700 dark:bg-gray-700 dark:text-white rounded-lg px-4 py-2 pr-5">
                            <option value="monthly"> üìÖ Monthly</option>
                            <option value="weekly">üóìÔ∏è Weekly</option>
                        </select>
                    </div>
                </div>

                <!-- Expense Trends -->
                <div class="bg-gray-50 dark:bg-gray-700 dark:text-white p-6 rounded-lg mb-4 border border-gray-300 dark:border-gray-600">
                    <canvas id="trendsChart" width="424" style="height: 200px;" class="text-gray-900 dark:text-white text-xl"></canvas>
                </div>
                <!-- Monthly Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- Monthly Expense Chart -->
                    <div class="flex flex-col">
                        <h4 class="font-medium text-gray-500 dark:text-gray-300 mb-2">Monthly Expense</h4>
                        <div class="bg-gray-50 dark:bg-gray-700 dark:text-white p-6 shadow-md rounded-lg">
                            <canvas id="monthlyExpenseChart" width="400" height="200"></canvas>
                        </div>
                    </div>

                    <!-- Monthly Income Chart -->
                    <div class="flex flex-col">
                        <h4 class="font-medium text-gray-500 dark:text-gray-300 mb-2">Monthly Income</h4>
                        <div class="bg-gray-50 dark:bg-gray-700 dark:text-white p-6 shadow-md rounded-lg">
                            <canvas id="monthlyIncomeChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Budgets Section -->
            <div class="w-72 bg-gray-50 dark:bg-gray-800 p-4 border-l-2 border-gray-300 dark:border-gray-600 flex flex-col justify-start">
                <h3 class="text-xl font-semibold dark:text-white mb-4">Budgets</h3>

                <!-- Add Budget Button Card -->
                <div id="addBudgetButton" class="accountCard p-4 rounded-lg flex flex-col items-center justify-center cursor-pointer relative border-4 border-dashed border-gray-400 dark:border-gray-600 mb-4">
                    <i class="fas fa-plus text-3xl text-gray-400 dark:text-gray-600 mb-2"></i>
                    <span class="text-gray-500 dark:text-gray-300">Add Budget</span>
                </div>

                <!-- Example Budget Card -->
                <div class="bg-gray-50 dark:bg-gray-700 pl-2 py-4 pr-3 rounded-lg border-2 border:gray-900 dark:border-gray-600 mb-4 flex flex-col relative">
                    <!-- Edit Icon -->
                    <div class="absolute top-2 right-2">
                        <button class="w-8 h-8 flex items-center justify-center text-gray-600 dark:text-gray-200 dark:hover:bg-gray-500">
                            <i class="text-gray-900 dark:text-gray-300 text-sm"> Edit</i>
                        </button>
                    </div>

                    <!-- Main Card Content -->
                    <div class="flex items-center">
                        <!-- Icon Column -->
                        <div class="w-14 h-14 rounded-lg flex items-center justify-center bg-gray-300 dark:bg-gray-600 text-3xl mr-2">
                            üöó
                        </div>
                        <!-- Text Content -->
                        <div class="flex-1">
                            <h5 class="font-semibold text-lg dark:text-white">New Car</h5>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Target: ‚Ç±50,000</p>
                        </div>
                    </div>

                    <!-- Date, Savings, and Progress -->
                    <div class="mt-4">
                        <p class="text-sm text-gray-600 dark:text-gray-300">Date: November 2024</p>
                        <p class="text-sm font-semibold text-green-500">Saving: ‚Ç±27,563</p>
                        <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mt-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 55%;"></div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="~/js/home.js" asp-append-version="true"></script>
