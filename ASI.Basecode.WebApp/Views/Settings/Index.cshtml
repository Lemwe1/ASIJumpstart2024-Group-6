@{
    Layout = "_Layout";
    ViewData["Title"] = "Settings Page";
}

@section styles {
    <link rel="stylesheet" href="~/css/settings.css" />
}

@using ASI.Basecode.Data.Models
@using ASI.Basecode.Services.ServiceModels

<!-- Sidebar and Content -->
<div class="grid min-h-screen mt-5 ml-10 grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Main Content Area -->
    <div class="col-span-1 lg:col-span-2 container p-6 bg-gray-100 dark:bg-gray-800">

        <!-- Settings Header -->
        <div class="my-4">
            <h2 class="font-semibold text-2xl dark:text-white">Settings</h2>
        </div>

        <!-- Profile Section -->
        <div class="relative p-6 shadow-sm rounded-lg mb-6 bg-gray-50 dark:bg-gray-700 grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Profile Picture Section -->
            <div class="col-span-1 lg:order-2 flex flex-col items-center justify-center mb-4 lg:mb-0">
                <div class="text-center mb-4">
                    <img id="profile-picture" class="rounded-full mx-auto w-40 h-40" src="~/img/profile-logo.png" alt="Profile Picture" />
                </div>
                <input type="file" id="file-input" class="hidden" accept="image/*">
            </div>

            <!-- Profile Details Section -->
            <div class="col-span-1 lg:order-1">
                <h3 class="text-lg font-semibold mb-4 dark:text-white">Profile</h3>

                <!-- Username Field -->
                <div class="mb-4">
                    <label for="usercode" class="block text-gray-700 dark:text-gray-300">Username</label>
                    <input type="text" id="usercode" name="usercode"
                           class="w-full p-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"
                           placeholder="Username"
                           value="@ViewData["UserCode"]" readonly disabled>
                </div>

                <!-- Name Fields -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-4">
                    <div>
                        <label for="first-name" class="block text-gray-700 dark:text-gray-300">First Name</label>
                        <input type="text" id="first-name" name="first-name"
                               class="w-full p-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"
                               placeholder="First Name"
                               value="@ViewData["FirstName"]" readonly disabled>
                    </div>
                    <div>
                        <label for="last-name" class="block text-gray-700 dark:text-gray-300">Last Name</label>
                        <input type="text" id="last-name" name="last-name"
                               class="w-full p-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"
                               placeholder="Last Name"
                               value="@ViewData["LastName"]" readonly disabled>
                    </div>
                </div>

                <!-- Email Field -->
                <div class="my-4">
                    <label for="email" class="block text-gray-700 dark:text-gray-300">Email Address</label>
                    <input type="email" id="email" name="email"
                           class="w-full p-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"
                           placeholder="Email address" required
                           value="@ViewData["Email"]" readonly disabled>
                </div>
                <hr class="dark:text-white" />

                <!-- Password Field with Change Button -->
                <div class="my-4 relative">
                    <label for="password" class="block text-gray-700 dark:text-gray-300 mr-2">Password</label>
                    <input type="password" id="password" name="password"
                           class="w-9/12 p-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"
                           placeholder="**********" readonly disabled>
                    <a href="javascript:void(0);" id="change-password-btn" onclick="openChangePasswordModal()"
                       class=" ml-2 -translate-y-1/2 text-blue-500 hover:underline">
                        Change
                    </a>
                </div>

            </div>

            <!-- Edit Button for Profile -->
            <button id="edit-profile-btn" onclick="openEditProfileModal()" class="absolute top-1 right-1 bg-blue-500 dark:border-gray-500 text-white dark:text-gray-300 hover:bg-blue-600 px-3 py-2 rounded-lg transition duration-150 flex items-center mt-4 mr-4">
                <i class="fas fa-pen mr-1"></i> Edit Profile
            </button>
        </div>
</div>

@Html.Partial("EditProfile")
@Html.Partial("ChangePass")
<script src="~/js/settings.js"></script>
